// 
// Decompiled by Procyon v0.6.0
// 

package com.mentalfrostbyte.jello.mods.impl.exploit.disablers;

import com.mentalfrostbyte.jello.mods.Category;
import com.mentalfrostbyte.jello.mods.Module;
import com.mentalfrostbyte.jello.settings.impl.BooleanSetting;
import com.mentalfrostbyte.jello.settings.impl.NumberSetting;
import com.mentalfrostbyte.jello.settings.impl.StringSetting;
import mapped.Class4354;
import mapped.UpdateWalkingEventI;
import mapped.EventListener;

public class TPDisabler extends Module
{
    private int field15736;
    
    public TPDisabler() {
        super(Category.EXPLOIT, "TP", "Disabler working on some anticheats.");
        this.addSetting(new NumberSetting<>("Delay", "Tp delay.", 20.0f, Float.class, 5.0f, 40.0f, 1.0f));
        this.addSetting(new StringSetting("Mode", "Mode", 0, "Basic1", "Basic2", "MinInfinity", "MaxInfinity", "MinValue", "MaxValue"));
        this.addSetting(new BooleanSetting("OnGround", "Send on ground packets.", false));
        this.addSetting(new BooleanSetting("More Packets", "Send more packets.", false));
        this.addSetting(new BooleanSetting("Ping spoof", "Spoof your ping.", false));
    }
    
    @Override
    public void onEnable() {
        this.field15736 = 0;
    }
    
    @EventListener
    public void method10250(final UpdateWalkingEventI updateWalkingEvent) {
        if (!this.isEnabled() || TPDisabler.mc.player == null || !updateWalkingEvent.isPre() || TPDisabler.mc.method5282() == null) {
            return;
        }
        ++this.field15736;
        double n = -4.503599627370497E15;
        final String method9887 = this.getStringSettingValueByName("Mode");
        switch (method9887) {
            case "Basic1": {
                n = TPDisabler.mc.player.posY - 20.0;
                break;
            }
            case "Basic2": {
                n = TPDisabler.mc.player.posY - 1000.0 + Math.random() * 1000.0;
                break;
            }
            case "MinInfinity": {
                n = Double.NEGATIVE_INFINITY;
                break;
            }
            case "MaxInfinity": {
                n = Double.POSITIVE_INFINITY;
                break;
            }
            case "MinValue": {
                n = Double.MIN_VALUE;
                break;
            }
            case "MaxValue": {
                n = Double.MAX_VALUE;
                break;
            }
        }
        if (this.field15736 >= this.getNumberSettingValueByName("Delay")) {
            this.field15736 = 0;
            final boolean method9888 = this.getBooleanValueFromSettingName("OnGround");
            if (this.getBooleanValueFromSettingName("More Packets")) {
                TPDisabler.mc.method5269().method17292(new Class4354(TPDisabler.mc.player.posX, n, TPDisabler.mc.player.posX, method9888));
            }
            else {
                updateWalkingEvent.method17037(n);
                updateWalkingEvent.method17045(method9888);
            }
        }
    }
}
